---
layout: default
title: Calendario - TechConf by Chimichurri Code
permalink: /calendar.html
---

<div class="calendar-container">
  {% include view_icons.html %}
  
  <div id="calendar"></div>
</div>

<!-- FullCalendar CSS -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css" rel="stylesheet" />

<!-- FullCalendar JS -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>

<style>
  .calendar-container {
    max-width: 1400px;
    width: 95%;
    margin: 0 auto;
    padding: 20px;
  }
  
  #calendar {
    margin-top: 20px;
    font-family: 'Inter', sans-serif;
    height: 800px;
    font-size: 14px;
  }
  
  /* Personalizaci√≥n del calendario */
  .fc-toolbar-title {
    color: #2c3e50 !important;
    font-weight: 600 !important;
    font-size: 28px !important;
  }
  
  .fc-toolbar {
    padding: 15px 0 !important;
    margin-bottom: 20px !important;
  }
  
  .fc-button {
    background-color: #3498db !important;
    border-color: #3498db !important;
    color: white !important;
    padding: 10px 16px !important;
    font-size: 14px !important;
    font-weight: 500 !important;
  }
  
  .fc-button:hover {
    background-color: #2980b9 !important;
    border-color: #2980b9 !important;
  }
  
  .fc-button-active {
    background-color: #2c3e50 !important;
    border-color: #2c3e50 !important;
  }
  
  .fc-event {
    border: none !important;
    border-radius: 4px !important;
    font-size: 13px !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    padding: 4px 6px !important;
    margin: 2px 0 !important;
  }
  
  .fc-event-title {
    font-weight: 500 !important;
    line-height: 1.3 !important;
  }
  
  /* Hacer las celdas de d√≠as m√°s grandes */
  .fc-daygrid-day {
    min-height: 120px !important;
  }
  
  .fc-col-header-cell {
    padding: 12px 0 !important;
    font-size: 16px !important;
    font-weight: 600 !important;
  }
  
  .fc-daygrid-day-number {
    font-size: 16px !important;
    font-weight: 500 !important;
    padding: 8px !important;
  }
  
  .fc-daygrid-day-events {
    margin-top: 4px !important;
  }
  
  /* Eventos por tipo */
  .fc-event.conference {
    background-color: #e74c3c !important;
    color: white !important;
  }
  
  .fc-event.cfp-open {
    background-color: #27ae60 !important;
    color: white !important;
  }
  
  .fc-event.cancelled {
    background-color: #95a5a6 !important;
    color: white !important;
    text-decoration: line-through !important;
  }
  
  .fc-daygrid-event-harness {
    margin-bottom: 2px;
  }
  
  .fc-day-today {
    background-color: #ecf0f1 !important;
  }
  
  @media (max-width: 768px) {
    .calendar-container {
      padding: 10px;
      width: 98%;
    }
    
    #calendar {
      height: 600px !important;
    }
    
    .fc-toolbar {
      flex-direction: column !important;
      gap: 15px !important;
      margin-bottom: 15px !important;
    }
    
    .fc-toolbar-chunk {
      display: flex !important;
      justify-content: center !important;
    }
    
    .fc-button-group {
      display: flex !important;
    }
    
    .fc-toolbar-title {
      font-size: 22px !important;
    }
    
    .fc-daygrid-day {
      min-height: 80px !important;
    }
    
    .fc-event {
      font-size: 11px !important;
      padding: 2px 4px !important;
    }
    
    .fc-col-header-cell {
      font-size: 14px !important;
      padding: 8px 0 !important;
    }
    
    .fc-daygrid-day-number {
      font-size: 14px !important;
      padding: 6px !important;
    }
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const calendarEl = document.getElementById('calendar');
  
  // Obtener datos de conferencias desde Jekyll
  const conferences = [
    {% for conference in site.conferences %}
      {% assign today = 'now' | date: '%s' %}
      {% assign conf_date = conference.date_start | date: '%s' %}
      {
        title: '{{ conference.name | escape }}',
        start: '{{ conference.date_start | date: "%Y-%m-%d" }}',
        {% if conference.date_end %}
        end: '{{ conference.date_end | date: "%Y-%m-%d" | date: "%s" | plus: 86400 | date: "%Y-%m-%d" }}',
        {% endif %}
        url: '{{ conference.website | escape }}',
        location: '{{ conference.location | escape }}',
        twitter: '{{ conference.twitter | escape }}',
        cfp_date: '{{ conference.cfp_date | escape }}',
        cfp_url: '{{ conference.cfp_url | escape }}',
        cancelled: {{ conference.cancelled | default: false }},
        className: {% if conference.cancelled %}'cancelled'{% elsif conference.cfp_date and conference.cfp_url %}'cfp-open'{% else %}'conference'{% endif %}
      }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ];

  const calendar = new FullCalendar.Calendar(calendarEl, {
    initialView: 'dayGridMonth',
    headerToolbar: {
      left: 'prev,next today',
      center: 'title',
      right: ''
    },
    locale: 'es',
    firstDay: 1, // Lunes como primer d√≠a
    events: conferences,
    eventDisplay: 'block',
    displayEventTime: false,
    eventClick: function(info) {
      info.jsEvent.preventDefault();
      
      const event = info.event;
      const extendedProps = event.extendedProps;
      
      let content = `
        <div style="max-width: 400px;">
          <h3 style="margin: 0 0 15px 0; color: #2c3e50; font-size: 18px;">${event.title}</h3>
          
          <div style="margin-bottom: 10px;">
            <strong>üìÖ Fecha:</strong><br>
      `;
      
      if (event.end && event.start.getTime() !== event.end.getTime() - 86400000) {
        content += `${event.start.toLocaleDateString('es-ES', { 
          weekday: 'long', 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        })} - ${new Date(event.end.getTime() - 86400000).toLocaleDateString('es-ES', { 
          weekday: 'long', 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        })}`;
      } else {
        content += event.start.toLocaleDateString('es-ES', { 
          weekday: 'long', 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        });
      }
      
      content += `</div>`;
      
      if (extendedProps.location) {
        content += `
          <div style="margin-bottom: 10px;">
            <strong>üìç Ubicaci√≥n:</strong><br>
            ${extendedProps.location}
          </div>
        `;
      }
      
      if (extendedProps.cancelled) {
        content += `
          <div style="margin-bottom: 15px; padding: 8px; background-color: #f8d7da; border: 1px solid #f5c6cb; border-radius: 4px; color: #721c24;">
            <strong>‚ö†Ô∏è Evento Cancelado</strong>
          </div>
        `;
      }
      
      if (extendedProps.cfp_date && extendedProps.cfp_url) {
        content += `
          <div style="margin-bottom: 15px; padding: 8px; background-color: #d4edda; border: 1px solid #c3e6cb; border-radius: 4px; color: #155724;">
            <strong>üìù CFP Abierto</strong><br>
            Hasta: ${extendedProps.cfp_date}
          </div>
        `;
      }
      
      content += `
        <div style="display: flex; gap: 10px; margin-top: 15px;">
      `;
      
      if (event.url) {
        content += `
          <a href="${event.url}" target="_blank" rel="noopener" 
             style="padding: 8px 16px; background-color: #3498db; color: white; text-decoration: none; border-radius: 4px; font-size: 14px;">
            üåê Website
          </a>
        `;
      }
      
      if (extendedProps.cfp_url) {
        content += `
          <a href="${extendedProps.cfp_url}" target="_blank" rel="noopener"
             style="padding: 8px 16px; background-color: #27ae60; color: white; text-decoration: none; border-radius: 4px; font-size: 14px;">
            üìù CFP
          </a>
        `;
      }
      
      if (extendedProps.twitter) {
        content += `
          <a href="${extendedProps.twitter}" target="_blank" rel="noopener"
             style="padding: 8px 16px; background-color: #1da1f2; color: white; text-decoration: none; border-radius: 4px; font-size: 14px;">
            ùïè Twitter
          </a>
        `;
      }
      
      content += `
        </div>
        </div>
      `;
      
      // Crear modal personalizado
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10000;
      `;
      
      const modalContent = document.createElement('div');
      modalContent.style.cssText = `
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        max-width: 90vw;
        max-height: 90vh;
        overflow-y: auto;
      `;
      
      modalContent.innerHTML = content;
      
      const closeButton = document.createElement('button');
      closeButton.innerHTML = '√ó';
      closeButton.style.cssText = `
        position: absolute;
        top: 10px;
        right: 15px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #999;
      `;
      
      modalContent.style.position = 'relative';
      modalContent.appendChild(closeButton);
      modal.appendChild(modalContent);
      document.body.appendChild(modal);
      
      // Cerrar modal
      const closeModal = () => {
        document.body.removeChild(modal);
      };
      
      closeButton.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
      });
      
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') closeModal();
      });
    },
    
    eventDidMount: function(info) {
      // Tooltip en hover
      info.el.title = `${info.event.title} - ${info.event.extendedProps.location || 'Ubicaci√≥n no especificada'}`;
    }
  });

  calendar.render();
});
</script>